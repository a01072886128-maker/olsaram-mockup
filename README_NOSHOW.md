# ðŸŽ¯ ë…¸ì‡¼ ë¶„ì„ ì‹œìŠ¤í…œ - ì™„ì „ ê°€ì´ë“œ

## ðŸ“Œ ì‹œìŠ¤í…œ ê°œìš”

**ì™„ì „ížˆ ì‹¤ì œ ë°ì´í„° ê¸°ë°˜**ìœ¼ë¡œ ë™ìž‘í•˜ëŠ” ë…¸ì‡¼ ë¶„ì„ ì‹œìŠ¤í…œìž…ë‹ˆë‹¤.

- âœ… ê³ ê°ì´ ì˜ˆì•½í•˜ë©´ â†’ DBì— ì €ìž¥
- âœ… ì‚¬ìž¥ë‹˜ì´ í™•ì¸í•˜ë©´ â†’ ì‹¤ì‹œê°„ ìœ„í—˜ë„ ê³„ì‚°
- âœ… ë…¸ì‡¼ ì²˜ë¦¬í•˜ë©´ â†’ ëª¨ë“  í†µê³„ ìžë™ ì—…ë°ì´íŠ¸
- âœ… í™”ë©´ì—ì„œ ì¦‰ì‹œ â†’ ìµœì‹  ë°ì´í„° ë°˜ì˜

**ëžœë¤ ëª©ì—… ë°ì´í„°ëŠ” ë” ì´ìƒ ì‚¬ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤!**

---

## ðŸš€ ë¹ ë¥¸ ì‹œìž‘ (5ë¶„)

### 1ï¸âƒ£ ë”ë¯¸ ë°ì´í„° ì‚½ìž…

```bash
mysql -u root -p olsaram_db
source backend/src/main/resources/db/migration/dummy_reservations_with_noshow.sql;
```

### 2ï¸âƒ£ ì„œë²„ ì‹¤í–‰

```bash
# ë°±ì—”ë“œ
cd backend
./gradlew bootRun

# í”„ë¡ íŠ¸ì—”ë“œ (ìƒˆ í„°ë¯¸ë„)
cd frontend
npm run dev
```

### 3ï¸âƒ£ í…ŒìŠ¤íŠ¸

1. `http://localhost:5173` ì ‘ì†
2. `owner1` / `password` ë¡œê·¸ì¸
3. **ì˜ˆì•½ ê´€ë¦¬** íŽ˜ì´ì§€ ì´ë™
4. ë…¸ì‡¼ìœ¨ í†µê³„ í™•ì¸ âœ…
5. ì˜ˆì•½ ì¹´ë“œì˜ ìœ„í—˜ë„ í™•ì¸ âœ…
6. ì˜ˆì•½ í™•ì • â†’ ë…¸ì‡¼ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸ âœ…

---

## ðŸ’¡ í•µì‹¬ ê¸°ëŠ¥

### 1. **ì‹¤ì‹œê°„ ìœ„í—˜ë„ ê³„ì‚°**

ì˜ˆì•½ë§ˆë‹¤ ìžë™ ê³„ì‚°ë˜ëŠ” ìœ„í—˜ë„:

| ìœ„í—˜ë„ | ì ìˆ˜ | ìƒ‰ìƒ | ì˜ë¯¸ |
|--------|------|------|------|
| ðŸŸ¢ LOW | 70~100 | ë…¹ìƒ‰ | ì•ˆì „í•œ ê³ ê° |
| ðŸŸ¡ MEDIUM | 40~69 | ì£¼í™© | ì£¼ì˜ í•„ìš” |
| ðŸ”´ HIGH | 0~39 | ë¹¨ê°• | ë…¸ì‡¼ ìœ„í—˜ ë†’ìŒ |

**ê³„ì‚° ê¸°ì¤€:**
- ë…¸ì‡¼ ì´ë ¥ 3íšŒ ì´ìƒ â†’ HIGH
- ì‹ ë¢° ì ìˆ˜ 70ì  ë¯¸ë§Œ â†’ ìœ„í—˜ë„ ì¦ê°€
- ì‹ ê·œ ê³ ê° â†’ MEDIUM
- ì„ ê²°ì œ ì™„ë£Œ â†’ ìœ„í—˜ë„ ê°ì†Œ
- VIP ê³ ê° (ì˜ˆì•½ 10íšŒ+, ë…¸ì‡¼ 0) â†’ LOW

### 2. **ìžë™ í†µê³„ ì—…ë°ì´íŠ¸**

#### ë…¸ì‡¼ ì²˜ë¦¬ ì‹œ (ðŸš« ë²„íŠ¼):
```
ê³ ê° í…Œì´ë¸”:
  no_show_count: +1
  trust_score: -10

ê°€ê²Œ í…Œì´ë¸”:
  no_show_count: +1

â†’ ë…¸ì‡¼ìœ¨ ìžë™ ìž¬ê³„ì‚°
â†’ ë‹¤ìŒ ì˜ˆì•½ë¶€í„° ìœ„í—˜ë„ ë” ë†’ê²Œ í‘œì‹œ
```

#### ë°©ë¬¸ ì™„ë£Œ ì‹œ (âœ… ë²„íŠ¼):
```
ê³ ê° í…Œì´ë¸”:
  reservation_count: +1
  trust_score: +5

ê°€ê²Œ í…Œì´ë¸”:
  completed_reservations: +1

â†’ ì‹ ë¢°ë„ ì¦ê°€
â†’ ë‹¤ìŒ ì˜ˆì•½ë¶€í„° ìœ„í—˜ë„ ë” ë‚®ê²Œ í‘œì‹œ
```

### 3. **ê°€ê²Œë³„ ë…¸ì‡¼ìœ¨ í†µê³„**

ëŒ€ì‹œë³´ë“œ ìƒë‹¨ì— ì‹¤ì‹œê°„ í‘œì‹œ:
- ì´ ì˜ˆì•½ ìˆ˜
- ë…¸ì‡¼ íšŸìˆ˜
- ë…¸ì‡¼ìœ¨ (%)
- ì •ìƒ ì™„ë£Œ ìˆ˜

---

## ðŸ“Š ë°ì´í„° íë¦„

```
ê³ ê° ì˜ˆì•½ ìƒì„±
    â†“
DB ì €ìž¥ (Reservation)
    â†“
ì‚¬ìž¥ë‹˜ ì˜ˆì•½ ê´€ë¦¬ íŽ˜ì´ì§€ ì ‘ì†
    â†“
ë°±ì—”ë“œ API í˜¸ì¶œ
    â†“
ì‹¤ì‹œê°„ ìœ„í—˜ë„ ê³„ì‚°
  - ê³ ê°ì˜ no_show_count ì¡°íšŒ
  - ì˜ˆì•½ ì •ë³´ ë¶„ì„ (ì‹œê°„, ì¸ì›, ê²°ì œ)
  - 9ê°€ì§€ ê·œì¹™ ì ìš©
    â†“
í™”ë©´ì— ìœ„í—˜ë„ í‘œì‹œ
    â†“
ì‚¬ìž¥ë‹˜ì´ ì˜ˆì•½ í™•ì •
    â†“
ì˜ˆì•½ ì‹œê°„ ë„ëž˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ë°©ë¬¸ì™„ë£Œ âœ…  â”‚  ë…¸ì‡¼ì²˜ë¦¬ ðŸš« â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“              â†“
   COMPLETED      NO_SHOW
      â†“              â†“
  ìžë™ ì—…ë°ì´íŠ¸ (ë°±ì—”ë“œ)
      â†“              â†“
  í™”ë©´ ìƒˆë¡œê³ ì¹¨ (í”„ë¡ íŠ¸)
      â†“              â†“
   ìµœì‹  í†µê³„ ë°˜ì˜
```

---

## ðŸŽ® ì‚¬ìš© ê°€ì´ë“œ

### ì‚¬ìž¥ë‹˜ í™”ë©´

#### 1. ì˜ˆì•½ ëª©ë¡ í™•ì¸
- ê° ì˜ˆì•½ ì¹´ë“œì— ìœ„í—˜ë„ ì‹ í˜¸ë“± í‘œì‹œ
- ðŸŸ¢ ðŸŸ¡ ðŸ”´ ìƒ‰ìƒìœ¼ë¡œ ì¦‰ì‹œ í™•ì¸

#### 2. ì˜ˆì•½ ìƒì„¸ ë³´ê¸°
- ì¹´ë“œ í´ë¦­ â†’ íŽ¼ì¹˜ê¸°
- ê³ ê° ì´ë ¥ ì •ë³´:
  - ë…¸ì‡¼: XíšŒ
  - ë°©ë¬¸: XíšŒ
  - ì‹ ë¢°ì ìˆ˜: Xì 
  - ê°€ìž…: Xì¼ì°¨
- ìœ„í—˜ ìš”ì†Œ ë¦¬ìŠ¤íŠ¸
- ìžë™ ì¡°ì¹˜ ì‚¬í•­

#### 3. ì˜ˆì•½ ì²˜ë¦¬ ë²„íŠ¼

**ëŒ€ê¸°ì¤‘(PENDING) ì˜ˆì•½:**
- âœ… ì˜ˆì•½í™•ì •
- âŒ ì˜ˆì•½ì·¨ì†Œ (ìœ„í—˜ë„ HIGHë§Œ)
- ðŸ“ž ì „í™”í•˜ê¸°
- â­ ì‹ ë¢°ê³ ê°

**í™•ì •(CONFIRMED) ì˜ˆì•½:**
- âœ… ë°©ë¬¸ì™„ë£Œ â† ê³ ê°ì´ ì •ìƒ ë°©ë¬¸í–ˆì„ ë•Œ
- ðŸš« ë…¸ì‡¼ì²˜ë¦¬ â† ê³ ê°ì´ ì•ˆ ë‚˜íƒ€ë‚¬ì„ ë•Œ
- ðŸ“ž ì „í™”í•˜ê¸°
- â­ ì‹ ë¢°ê³ ê°

---

## ðŸ”§ ì„¤ì • ë° ì»¤ìŠ¤í„°ë§ˆì´ì§•

### ì‹ ë¢° ì ìˆ˜ ë³€í™”ëŸ‰ ì¡°ì •

íŒŒì¼: [ReservationService.java:189,217](backend/src/main/java/com/olsaram/backend/service/reservation/ReservationService.java)

```java
// ë…¸ì‡¼ ì‹œ ê°ì†ŒëŸ‰ (í˜„ìž¬: -10)
customer.setTrustScore(Math.max(0, currentTrustScore - 10));

// ì™„ë£Œ ì‹œ ì¦ê°€ëŸ‰ (í˜„ìž¬: +5)
customer.setTrustScore(Math.min(100, currentTrustScore + 5));
```

### ìœ„í—˜ë„ ê³„ì‚° ê·œì¹™ ìˆ˜ì •

íŒŒì¼: [ReservationRiskService.java](backend/src/main/java/com/olsaram/backend/service/noshow/ReservationRiskService.java)

```java
// ë…¸ì‡¼ 3íšŒ ì´ìƒ ë²Œì  ì¡°ì •
if (noShowCount >= 3) {
    riskScore -= 50;  // ì´ ê°’ì„ ë³€ê²½
    riskLevel = "HIGH";
}
```

---

## ðŸ—‚ï¸ ì£¼ìš” íŒŒì¼

### ë°±ì—”ë“œ

| íŒŒì¼ | ì„¤ëª… |
|------|------|
| `ReservationStatus.java` | NO_SHOW, COMPLETED ìƒíƒœ ì¶”ê°€ |
| `NoShowRateService.java` | ê°€ê²Œë³„ ë…¸ì‡¼ìœ¨ ê³„ì‚° |
| `ReservationRiskService.java` | ì˜ˆì•½ë³„ ìœ„í—˜ë„ ê³„ì‚° (9ê°€ì§€ ê·œì¹™) |
| `ReservationService.java:166-232` | â­ ìžë™ í†µê³„ ì—…ë°ì´íŠ¸ ë¡œì§ |
| `NoShowRateController.java` | ë…¸ì‡¼ìœ¨ API |
| `ReservationRiskController.java` | ìœ„í—˜ë„ API |

### í”„ë¡ íŠ¸ì—”ë“œ

| íŒŒì¼ | ì„¤ëª… |
|------|------|
| `Reservations.jsx` | ì‚¬ìž¥ë‹˜ ì˜ˆì•½ ê´€ë¦¬ íŽ˜ì´ì§€ |
| `reservations.js` | API í˜¸ì¶œ í•¨ìˆ˜ |
| `Reservations_old_mockup.jsx` | ê¸°ì¡´ ëžœë¤ ë²„ì „ (ë°±ì—…) |

### ë°ì´í„°

| íŒŒì¼ | ì„¤ëª… |
|------|------|
| `dummy_reservations_with_noshow.sql` | ë”ë¯¸ ë°ì´í„° (100ê±´) |

---

## ðŸ“š ë¬¸ì„œ

| ë¬¸ì„œ | ì„¤ëª… |
|------|------|
| `NOSHOW_MVP_IMPLEMENTATION.md` | ì „ì²´ êµ¬í˜„ ê°€ì´ë“œ |
| `REAL_DATA_FLOW_GUIDE.md` | ì‹¤ì œ ë°ì´í„° íë¦„ ìƒì„¸ ì„¤ëª… |
| `QUICKSTART_NOSHOW.md` | ë¹ ë¥¸ ì‹œìž‘ ê°€ì´ë“œ |
| `README_NOSHOW.md` | ì´ ë¬¸ì„œ |

---

## ðŸ§ª í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤ 1: ì‹ ê·œ ê³ ê° ë…¸ì‡¼

```
1. customer_id=1 ë¡œê·¸ì¸ (ë…¸ì‡¼ ì´ë ¥ 0)
2. ê°€ê²Œì— ì˜ˆì•½ ìƒì„±
3. owner1 ë¡œê·¸ì¸ â†’ ì˜ˆì•½ ê´€ë¦¬
   â†’ ìœ„í—˜ë„: MEDIUM (ì‹ ê·œ)
4. ì˜ˆì•½ í™•ì •
5. ðŸš« ë…¸ì‡¼ì²˜ë¦¬ í´ë¦­
6. í™•ì¸ â†’ ìžë™ ì—…ë°ì´íŠ¸:
   - customer í…Œì´ë¸”: no_show_count = 1
   - customer í…Œì´ë¸”: trust_score = 90
   - business í…Œì´ë¸”: no_show_count +1
7. í™”ë©´ ìžë™ ìƒˆë¡œê³ ì¹¨
8. customer_id=1ì´ ë‹¤ì‹œ ì˜ˆì•½í•˜ë©´
   â†’ ìœ„í—˜ë„: MEDIUM (ë…¸ì‡¼ 1íšŒ)
```

### ì‹œë‚˜ë¦¬ì˜¤ 2: ìƒìŠµ ë…¸ì‡¼ ê³ ê°

```
1. customer_id=1 (ë…¸ì‡¼ ì´ë ¥ 3íšŒ)
2. ì˜ˆì•½ ìƒì„±
3. owner1 í™•ì¸
   â†’ ìœ„í—˜ë„: HIGH (ë…¸ì‡¼ 3íšŒ)
   â†’ ì ìˆ˜: 35ì 
   â†’ âŒ ì˜ˆì•½ì·¨ì†Œ ë²„íŠ¼ í‘œì‹œ
4. ì‚¬ìž¥ë‹˜ ì„ íƒ:
   - ì˜ˆì•½ ì·¨ì†Œ (ìœ„í—˜ íšŒí”¼)
   - ë˜ëŠ” ì „í™” í™•ì¸ í›„ ì§„í–‰
```

### ì‹œë‚˜ë¦¬ì˜¤ 3: VIP ê³ ê°

```
1. customer_id=10 (ì˜ˆì•½ 15íšŒ, ë…¸ì‡¼ 0)
2. ì˜ˆì•½ ìƒì„±
3. owner1 í™•ì¸
   â†’ ìœ„í—˜ë„: LOW
   â†’ ì ìˆ˜: 100ì 
   â†’ VIP ë°°ì§€ í‘œì‹œ
4. ë°©ë¬¸ ì™„ë£Œ ì²˜ë¦¬
   â†’ trust_score +5
   â†’ reservation_count +1
```

---

## â“ FAQ

**Q: ë…¸ì‡¼ìœ¨ì´ 0%ë¡œ ë‚˜ì™€ìš”.**
```sql
-- ë”ë¯¸ ë°ì´í„° í™•ì¸
SELECT status, COUNT(*) FROM reservation GROUP BY status;
-- NO_SHOW ìƒíƒœê°€ ìžˆëŠ”ì§€ í™•ì¸
```

**Q: ìœ„í—˜ë„ê°€ ëª¨ë‘ 100ì ì´ì—ìš”.**
```sql
-- ê³ ê° ë…¸ì‡¼ ì´ë ¥ í™•ì¸
SELECT customer_id, no_show_count, trust_score FROM customer WHERE no_show_count > 0;
```

**Q: ë…¸ì‡¼ ì²˜ë¦¬ í›„ í†µê³„ê°€ ì•ˆ ë°”ë€Œì–´ìš”.**
- ë¸Œë¼ìš°ì € F12 â†’ Console í™•ì¸
- Network íƒ­ì—ì„œ API í˜¸ì¶œ í™•ì¸
- `/noshow-rate` API ì‘ë‹µ í™•ì¸

**Q: ë”ë¯¸ ë°ì´í„°ë¥¼ ì‚­ì œí•˜ê³  ì‹¶ì–´ìš”.**
```sql
DELETE FROM reservation WHERE created_at >= '2025-01-10 00:00:00';
UPDATE customer SET no_show_count = 0, trust_score = 100 WHERE customer_id <= 10;
```

---

## ðŸ”„ í–¥í›„ í™•ìž¥

### AI ëª¨ë¸ í†µí•© (Phase 2)

í˜„ìž¬: ë£° ê¸°ë°˜ ê³„ì‚° (9ê°€ì§€ ê·œì¹™)
í–¥í›„: OpenAI ê¸°ë°˜ ì˜ˆì¸¡

```java
// ì¸í„°íŽ˜ì´ìŠ¤ ì¶”ìƒí™”
public interface IRiskCalculator {
    ReservationRiskResponse calculateRisk(...);
}

// ë£° ê¸°ë°˜ (í˜„ìž¬)
@Qualifier("ruleBased")
class RuleBasedRiskCalculator implements IRiskCalculator { }

// AI ê¸°ë°˜ (í–¥í›„)
@Qualifier("aiBased")
class AiBasedRiskCalculator implements IRiskCalculator {
    @Autowired
    private NoShowAiService aiService;
}
```

### ì¶”ê°€ ê¸°ëŠ¥ ì•„ì´ë””ì–´

- ðŸ“± SMS/í‘¸ì‹œ ì•Œë¦¼ (ê³ ìœ„í—˜ ì˜ˆì•½ ì‹œ)
- ðŸ“Š ëŒ€ì‹œë³´ë“œ ì°¨íŠ¸ (ì‹œê³„ì—´ ë…¸ì‡¼ìœ¨)
- ðŸŽ¯ ì˜ˆì•½ ê±°ë¶€ ì •ì±… (ë…¸ì‡¼ XíšŒ ì´ìƒ)
- ðŸ’° ë…¸ì‡¼ íŒ¨ë„í‹° (ì˜ˆì•½ê¸ˆ ëª°ìˆ˜)
- ðŸ† ì‹ ë¢° ë“±ê¸‰ ì‹œìŠ¤í…œ (Bronze/Silver/Gold)

---

## ðŸ“ž ì§€ì›

- êµ¬í˜„ ê°€ì´ë“œ: `NOSHOW_MVP_IMPLEMENTATION.md`
- ë°ì´í„° íë¦„: `REAL_DATA_FLOW_GUIDE.md`
- ë¹ ë¥¸ ì‹œìž‘: `QUICKSTART_NOSHOW.md`
- GitHub Issues: (í”„ë¡œì íŠ¸ ì €ìž¥ì†Œ URL)

---

**ë²„ì „**: MVP 1.1
**ìµœì¢… ì—…ë°ì´íŠ¸**: 2025-01-25
**ìƒíƒœ**: âœ… ì™„ì „í•œ ì‹¤ì‹œê°„ ë°ì´í„° ê¸°ë°˜ ì‹œìŠ¤í…œ

ðŸŽ‰ **ì´ì œ ì™„ì „ížˆ ì‹¤ì œ ë°ì´í„°ë¡œ ë™ìž‘í•©ë‹ˆë‹¤!** ðŸŽ‰
